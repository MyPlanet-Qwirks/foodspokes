<!DOCTYPE html>
<html>
<head> 
	<title>Foodspokes || Discover</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	<!--<link rel="stylesheet" href="css/jquery.pageslide.css">-->
	
	<!-- Optional theme -->
	<!--<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
	
	
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">-->
	
	<!-- Custom Styles -->
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Oswald:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/style3.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/component2.css" />
    <script src="js/modernizr.custom.js"></script>
    
	<!-- Latest compiled and minified JavaScript -->
	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.13/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.13/angular-animate.min.js"></script>
	
	
</head>
<body ng-app="FarmerApp" ng-controller="FarmerCtrl">
<!-- <script src="js/jquery.pageslide.min.js"></script> -->
    

    <div class="wrapper">       
		<nav class="navbar wrapper" role="navigation">
		    
		    <!-- Collect the nav links, forms, and other content for toggling -->
            <ul class="nav navbar-nav color-4">
                <nav class="cl-effect-4">
                <a href="splash.html" class="home"><img src="img/logo.png" width="33">&nbsp;Foodspokes</a>
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
                <a href="find.html" class="active">Discover</a>
                </nav>
            </ul>
            
		    <!-- Brand and toggle get grouped for better mobile display -->
		</nav>
	                                                                                                   
                                                                                                       
	</div>
<div class="bg">
	<div class="row wrapper searchResultsWrapper" >
        <div class="col-sm-3">
           <div class="filter2">
		        <a style="border-right:1px solid #ffcc66;border-top-left-radius:5px;" href="index2_restaurant.html" class="searchToggle">Restaurants</a>
		         <a style="border-top-right-radius:5px;"href class="searchToggle active">Suppliers</a>
            </div>
            <div class="searchthing">
        		<input class="searchBar" style="border:1px solid #006633;" type="text" ng-model="search" placeholder="  Search"/>
          	</div>
        	<div class="filter"> 
        	
            <div class="category">
            	<h3 style="margin-top:0;">Types</h3>
				<div class="checkbox">
                    <form>
					<label><input name = "categoryCheck" id="fruit_chk"  type="checkbox" ng-model="chk.t1" ng-true-value="fruit" ng-false-value="" />
                        <img src="img/fruit3.png" width="30">&nbsp;fruit</label><br/>
					<label><input name = "categoryCheck" id="veg_chk" type="checkbox" ng-model="chk.t2" ng-true-value="vegetable" ng-false-value="" />
                        <img src="img/vegetables3.png" width="30">&nbsp;vegetables</label><br/>
					<label><input name = "categoryCheck" id="dairy_chk" type="checkbox" ng-model="chk.t3" ng-true-value="dairy" ng-false-value="" />
                        <img src="img/dairy3.png" width="30">&nbsp;dairy</label><br/>
					<label><input name = "categoryCheck" id="meat_chk" type="checkbox" ng-model="chk.t4"  ng-true-value="meat" ng-false-value="" />
                        <img src="img/meat3.png" width="30">&nbsp;meat</label><br/>
					<label><input name = "categoryCheck" id="grain_chk" type="checkbox" ng-model="chk.t5"  ng-true-value="grain" ng-false-value="" />
                        <img src="img/grain3.png" width="30">&nbsp;grain</label><br/>
					<label><input name = "categoryCheck" id="wine_chk" type="checkbox" ng-model="chk.t6"  ng-true-value="wine" ng-false-value="" />
                        <img src="img/wine3.png" width="30">&nbsp;wine</label><br/>
                    <label><input name = "categoryCheck" id="spice" type="checkbox" ng-model="chk.t7"  ng-true-value="wine" ng-false-value="" />
                        <img src="img/spices3.png" width="30">&nbsp;spices</label><br/>
                </div>
                    
            </div>
        </form>
       </div> 
            </div>
        
        <div class="col-sm-9">
        <div class="col-md-4 animate-repeat"  ng-repeat="farmer in farmers | searchFilter: search | filter:chk.t1 | filter:chk.t2 | filter:chk.t3 | filter:chk.t4 | filter:chk.t5 | filter:chk.t6 | filter:chk.t7">
            <a class="farmerContainer" href data-toggle="modal" data-target="#farm_modal{{$index}}">
                <div class="farmerCard">
                    <h3>{{farmer.node_title}}</h3>
                    <div>{{farmer.address.locality}}, {{farmer.address.administrative_area}}</div>
                    <div class="card_flavor_text">{{farmer.flavor_text}}</div>
                </div>
                
			<div class="farmericon">
				<img ng-repeat="category in farmer.category" src="img/{{category}}3.png" width="40">
			</div>
            </a>
			

			<div class="modal fade" id="farm_modal{{$index}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
				<div class="modal-content">
				  <div class="modal-header">
					<button type="button" class="close" style="font-size:30px;font-color:#004623 !important;" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h3 class="modal-title" id="myModalLabel">{{farmer.node_title}}</h3>
				  </div>
				  <div class="modal-body">
					<section class="general-info">
						<h4 style="margin-top:0;">Contact Info</h4>
						<table style="margin-left:20px;">
							<tr>
								<td><i class="glyphicon glyphicon-map-marker" style="top:-22px;"></i></td>
								<td style="padding-right:50px;">
						{{farmer.address.thoroughfare}}</br>
						{{farmer.address.locality}}, {{farmer.address.administrative_area}}</br>
						{{farmer.address.postal_code}}<br>
					</td>
					<td>
						<i class="glyphicon glyphicon-earphone"></i> {{farmer.phone}}</br>
						<i class="glyphicon glyphicon-envelope"></i> {{farmer.email}}<br/>
						<i class="glyphicon glyphicon-globe"></i> <a href="{{farmer.website}}">{{farmer.website}}</a>
					</td>
						<!--
						<div class="modal-social">
							<a href="#"><i class="fa fa-facebook-square fa-2x"></i></a>
							<a href="#"><i class="fa fa-twitter-square fa-2x"></i></a>
							<a href="#"><i class="fa fa-google-plus-square fa-2x"></i></a>
						</div>
						-->
					</tr>
						</table>
					</section>
					<section class="description">
							<h4>About Us</h4><p>
						{{farmer.description}}</p>
					</section>
					<section class="product-info" style="border-bottom:none;">
					<h4>Product Types:</h4>
						<p>
						<ul>
							<li ng-repeat="category in farmer.category" style="text-transform:capitalize;">{{category}}</li>
						</ul>
						<h4>Products:</h4>
						<ul class="products-list">
							<li ng-repeat="product in farmer.product_list_2">
								{{product}}
							</li>
						</ul>
						</p>
				
						<h4>Availability:</h4>
						<p><ul>
							<li ng-repeat="schedule_item in farmer.delivery_schedule_2">
								{{schedule_item}}
							</li>
						</ul></p>
		
						<h4>Invoice Style:</h4>
						<p><ul>
							<li ng-repeat="invoice in farmer.invoice_style">{{invoice}}</li>
						</ul></p>
					</section>
				  </div> <!-- modal-body end -->
				  
				  <div class="modal-footer">
				  		<!--
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
				  </div>
				</div>
			  </div> 
			</div>
        </div>  
</div>

		<script>
		var app = angular.module('FarmerApp',['ngAnimate']);
		
		app.controller('FarmerCtrl', function($scope, $http){
			$http({method: 'GET', url: 'http://dev-foodspokes.gotpantheon.com/api/farmers.json'}).success(function(data){
				$scope.farmers = data; // response data 
			
			});
		});
	
		app.filter('searchFilter', function($filter){
   			return function(items, text){
      		if (!text || text.length === 0)
        	return items;

      		// split search text on space
			text = text.replace(/,/g , " ");
      		var searchTerms = text.split(' ');

      		// search for single terms.
      		// this reduces the item list step by step
      		searchTerms.forEach(function(term) {
        	if (term && term.length)
          		items = $filter('filter')(items, term);
      		});

      		return items
   			
   			};
		});
	
		</script>		

        
	</div>
        

</div>
</body>
</html>